## emptyDir, hostPath, PVC / PV

Object - Volume

- emptyDir
    - 컨테이너들끼리 데이터를 공유하기 위해 볼륨을 사용하는 것
    - 항상 볼륨이 최초에 사용될 때에는 비어있기 때문에 emptyDir 이라고 명시되는것
    - 두개의 서버가 하나의 volume 에 mount 되어 있으면 따로 파일을 주고받을 필요 없이 자신의 로컬 파일처럼 편하게 사용 가능하다.
    - 볼륨은 파드 안에 생성되기 때문에 파드가 삭제되면 같이 삭제된다.
        - 그래서 이 볼륨 안의 데이터는 꼭 일시적인 사용 목적에 의한 데이터만 넣는 것이 좋다.
- hostPath
    - 각 node의 path 를 사용한다.
    - 여러 파드들의 node 내부의 볼륨을 따로 사용한다.
        - 그래서 파드가 죽어도 데이터가 사라지지 않는 장점이 있기는 하다.
            - 근데 문제가 있는데, 만약 파드 중 하나가 죽은 후 재생성 될 때 다른 노드에 파드를 만들게 되면 기존 노드에 있던 볼륨을 마운트할수 없게 된다.
                - 노드가 추가될 때마다 node 의 path 끼리 마운트를 해주는 것도 가능은 하다. 근데 굳이 이렇게 하기는 좀 그럼
    - 각각 노드에는 기본적으로 자신을 위해서 사용되는(시스템 파일이나 여러 파일 등) 파일이 있는데 파드 자신이 할당되어 있는 호스트의 데이터를 읽거나 써야 할 때 사용하면 된다.
- PVC / PV
    - 파드의 영속성 있는 볼륨을 제공하기 위한 볼륨
    - 로컬도 있기는 한데 외부 원격 볼륨도 가능함
        - 이런 영속적인 볼륨들을 PV(Persistent Volume)이라고 한다.
    - 근데 파드에서 이런 볼륨들에 바로 연결하는게 아니라 뭔가 하나를 통함
        - 그게 바로 PVC(Persistent Volume Claim) 이다.
            - 쿠버네티스는 볼륨 사용에 있어서 User / Admin 영역을 나눔
                - Admin - 쿠버네티스 운영자
                    - PV, Volume
                - User - 파드의 서비스 만들고 배포를 만드는 서비스 담당자
                    - Pod, PVC
